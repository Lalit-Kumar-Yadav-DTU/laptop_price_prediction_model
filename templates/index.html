<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Laptop Price Predictor</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; max-width: 600px; margin: auto; }
        label { display: block; margin-top: 10px; font-weight: bold; }
        select, input { width: 100%; padding: 5px; margin-top: 5px; }
        button { margin-top: 20px; padding: 10px 15px; background: #007BFF; color: white; border: none; cursor: pointer; }
        button:hover { background: #0056b3; }
        h1 { text-align: center; }
    </style>
</head>
<body>
    <h1>Laptop Price Predictor</h1>
    <form id="predict-form">
        <label>Brand:</label>
        <select name="company">
            {% for c in companies %}
            <option value="{{ c }}">{{ c }}</option>
            {% endfor %}
        </select>

        <label>Type:</label>
        <select name="type_name">
            {% for t in types %}
            <option value="{{ t }}">{{ t }}</option>
            {% endfor %}
        </select>

        <label>RAM (GB):</label>
        <select name="ram">
            {% for r in [2,4,6,8,12,16,24,32,64] %}
            <option value="{{ r }}">{{ r }}</option>
            {% endfor %}
        </select>

        <label>Weight (kg):</label>
        <input type="number" step="0.01" name="weight" value="2.0">

        <label>Touchscreen:</label>
        <select name="touchscreen">
            <option value="No">No</option>
            <option value="Yes">Yes</option>
        </select>

        <label>IPS:</label>
        <select name="ips">
            <option value="No">No</option>
            <option value="Yes">Yes</option>
        </select>

        <label>Screen Size (inches):</label>
        <input type="number" step="0.1" name="screen_size" value="13.0">

        <label>Resolution:</label>
        <select name="resolution">
            {% for r in ['1920x1080','1366x768','1600x900','3840x2160','3200x1800','2880x1800','2560x1600','2560x1440','2304x1440'] %}
            <option value="{{ r }}">{{ r }}</option>
            {% endfor %}
        </select>

        <label>CPU:</label>
        <select name="cpu">
            {% for c in cpus %}
            <option value="{{ c }}">{{ c }}</option>
            {% endfor %}
        </select>

        <label>HDD (GB):</label>
        <select name="hdd">
            {% for h in [0,128,256,512,1024,2048] %}
            <option value="{{ h }}">{{ h }}</option>
            {% endfor %}
        </select>

        <label>SSD (GB):</label>
        <select name="ssd">
            {% for s in [0,8,128,256,512,1024] %}
            <option value="{{ s }}">{{ s }}</option>
            {% endfor %}
        </select>

        <label>GPU:</label>
        <select name="gpu">
            {% for g in gpus %}
            <option value="{{ g }}">{{ g }}</option>
            {% endfor %}
        </select>

        <label>OS:</label>
        <select name="os">
            {% for o in oss %}
            <option value="{{ o }}">{{ o }}</option>
            {% endfor %}
        </select>

        <button type="submit">Predict Price</button>
    </form>

    <h2 id="result"></h2>

    <script>
        const form = document.getElementById('predict-form');
        const result = document.getElementById('result');

        form.addEventListener('submit', function(e){
            e.preventDefault();
            const formData = new FormData(form);
            fetch('/predict', {
                method: 'POST',
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                result.innerText = "Predicted Price: " + data.predicted_price;
            })
            .catch(err => {
                result.innerText = "Error predicting price!";
            });
        });
    </script>
</body>
</html>
